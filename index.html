<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <link rel="manifest" href="/manifest.webmanifest" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nyvya IA Phone</title>
  <!-- IcÃ´nes PWA -->
  <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192.png" />
  <link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512.png" />
  <meta name="theme-color" content="#FFFFFF" />
  <style>
    body { font-family: system-ui,sans-serif; padding: 1em; }
    button { 
      margin: 5px 0; padding: 0.4em 1em; font-size: 1.1em; 
      border-radius: 20px; border: none; background: #edf0fa; color: #114;
      cursor: pointer; transition: 0.1s; box-shadow: 1px 1px 4px #0001;
      display: inline-block;
    }
    button:hover { background: #d5e6fa; }
    #zone { margin-top: 1.6em; }
  </style>
</head>
<body>
  <h1>Bienvenue sur Nyvya IA Phoneâ€¯!</h1>
  <p>Choisis ce que tu veux faire ğŸ‘‡</p>

  <!-- MENU PRINCIPAL -->
  <button onclick="menu('histoire')">ğŸ“– Ã‰couter une histoire</button><br>
  <button onclick="menu('berceuse')">ğŸ¶ Ã‰couter une berceuse</button><br>
  <button onclick="menu('traduction')">ğŸŒ Traduction instantanÃ©e</button><br>
  <button onclick="menu('actu')">ğŸ“° ActualitÃ© du jour</button><br>
  <button onclick="menu('jeu')">ğŸ§© Devinette / Jeu IA</button><br>
  <button onclick="menu('blague')">ğŸ˜‚ Blague du jour</button><br>
  <button onclick="menu('autre')">âœ¨ Autre (Ã  venir)</button><br>

  <div id="zone"></div>

  <script>
    // Fonction TTS navigateur (gratuite)
    function parlerTexte(text, voiceName = "") {
      const synth = window.speechSynthesis;
      const utter = new SpeechSynthesisUtterance(text);
      if (voiceName) {
        const voices = synth.getVoices();
        const found = voices.find(v => v.name === voiceName);
        if (found) utter.voice = found;
      }
      utter.lang = "fr-FR";
      synth.speak(utter);
    }

    // Gestion des menus et affichage dynamique
    function menu(type) {
      let html = "";
      if (type === "histoire") {
        html = `
          <h2>Choisis un thÃ¨me d'histoire</h2>
          <button onclick="parlerTexte('Il Ã©tait une fois un pirate courageux sur les mers lointaines.');">ğŸ´â€â˜ ï¸ Pirates</button>
          <button onclick="parlerTexte('La princesse Rose s endormit dans son chÃ¢teau enchantÃ©.');">ğŸ‘¸ Princesse</button>
          <button onclick="parlerTexte('Un astronaute explore les planÃ¨tes inconnues de la galaxie.');">ğŸš€ Espace</button>
          <button onclick="parlerTexte('Un petit ourson dÃ©couvre la forÃªt magique avec ses amis.');">ğŸ» Animaux</button>
          <button onclick="menu('')">â¬…ï¸ Retour</button>
        `;
      }
      else if (type === "berceuse") {
        html = `
          <h2>Choisis une berceuse</h2>
          <button onclick="parlerTexte('Douce nuit, belle nuit, tout s endort sous la lune.');">ğŸŒ™ Douce nuit</button>
          <button onclick="parlerTexte('Ferme les yeux, les Ã©toiles veillent sur toi.');">â­ Berceuse des Ã©toiles</button>
          <button onclick="parlerTexte('Ecoute le doux murmure de l ocÃ©an pour t endormir.');">ğŸŒŠ RÃªve dâ€™ocÃ©an</button>
          <button onclick="menu('')">â¬…ï¸ Retour</button>
        `;
      }
      else if (type === "traduction") {
        html = "<p>Fonction Ã  venirâ€¦</p>";
      }
      else if (type === "actu") {
        html = "<p>Fonction Ã  venirâ€¦</p>";
      }
      else if (type === "jeu") {
        html = "<p>Fonction Ã  venirâ€¦</p>";
      }
      else if (type === "blague") {
        html = `<button onclick="parlerTexte('Pourquoi les poissons dÃ©testent l ordinateur ? Parce qu ils ont peur des virus !')">Raconte-moi une blague !</button><br><button onclick="menu('')">â¬…ï¸ Retour</button>`;
      }
      else {
        html = "";
      }
      document.getElementById('zone').innerHTML = html;
    }
  </script>
</body>
</html>
